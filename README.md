![Build Status](https://api.travis-ci.com/ikardovskiy/demo-app.svg?branch=develop)
![Code Coverage](https://codecov.io/github/ikardovskiy/demo-app/branch/develop/graph/badge.svg)

#
### Запуск
Сборка проекта проверялась под [AdoptOpenJDK 11.0.6](https://adoptopenjdk.net/?variant=openjdk11&jvmVariant=hotspot)

Требуется Maven, Java 11, Docker.
 
Все команды в данном разделе выполняются в корне проекта.
 
#### Сборка

    mvn clean package
    
#### Запуск и останов
    
    docker-compose up 
    docker-compose down
      
    
#### Использование

[Web Swagger UI](http://localhost:8080/swagger-ui.html)
для поиска кодов стран по заданному паттерну

реализовано в модуле **web**

по умолчанию включено локальное кеширование 
и обновление лоакльно кеша каждые 10 секунд 

возможность кеширования и его периодичность настриваются  
через настройки Spring Boot в модуле **web**


[Integration Swagger UI](http://localhost:8081/swagger-ui.html)

ручной запуск загрузки c сайта country.io   

автоматическая попытка загрузки производится каждые 60 секунд

периодичность автоматической попытки загрузки настраивается 
через настройки Spring Boot в модуле **integration**

## Тестовое задание

Реализовать высоконагруженный сервис подсказки телефонных кодов.

Сервис помогает пользователю узнать телефонный код страны, задавая всего пару букв в названии страны. Например:

GET /rest/code?country=be

    [
        {"name":   "BE",
         "country":"Belgium"
         "code":   "32"
        },
        {"name":   "BM",
         "country":"Bermuda"
         "code":   "+1-441"
        },
        {"name":   "BJ",
         "country":"Benin"
         "code":   "229"
        },
        {"name":   "BY",
         "country":"Belarus"
         "code":   "375"
        },
        {"name":   "BZ",
         "country":"Belize"
         "code":   "501"
        }
    ] 

Данные сервис берет из источников и приводит их к указанному выше формату:

Старны: http://country.io/names.json
    
Телефоныне коды: http://country.io/phone.json

К сожалению источники данных не могут справиться с высокой нагрузкой, а иногда источники данных бываются недоступны.Мы хотим, чтобы клиенты не знали об этих проблемах. Хорошо, что данные о телефонных кодах нечасто обновляются и мы можем кешировать данные у себя. Мы также хотим оставить возможность обновлять закешированные данные из источников. Иногда даже наши микросервисы падают, мы хотим, чтобы кешированные данные не пропали в этом случае.
Мы ожидаем что сервис будет хорошо протестирован прежде чем попадет к нам, а хорошее логироваине поможет найти проблемы, если они возникнут.
Что мы хотим получить:
* Ссылку на репозиторий
* Инструкцию по сборке и запуску
* Нам будет удобнее запускать приложение в docker




